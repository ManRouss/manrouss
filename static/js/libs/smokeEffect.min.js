var puffImages=null,current=0,SmokeEffect={smokeWidth:80,smokeHeight:45,multiplyIntroRatio:!0,introRatio:1.5,introDuration:100,introOpacity:.4,outroRatio:2.5,outroDuration:2500,outroOpacity:0,paused:!1,randomizeImage:!1,smokePos:[],makeEffect:function(n,t,i,r){puffImages=r,SmokeEffect.smokePos[n]=[],SmokeEffect.smokePos[n].x=t,SmokeEffect.smokePos[n].y=i;var u=Math.floor(Math.random()*3001);setTimeout("SmokeEffect.animate('"+n+"')",u)},togglePause:function(){SmokeEffect.paused=!SmokeEffect.paused},toggleRandomize:function(){SmokeEffect.randomizeImage=!SmokeEffect.randomizeImage},animate:function(n){var i,r,t,u,f,e;SmokeEffect.paused||(i="",SmokeEffect.randomizeImage?(r=Math.random()*(puffImages.length-1),r=Math.round(r*Math.pow(10,0))/Math.pow(10,0),i=puffImages[r]):(i=puffImages[current],current==puffImages.length-1?current=0:current+=1),t=document.createElement("IMG"),$(t).attr("src",i),$(t).attr("alt","puff"),$(t).attr("class","puff"),u="puff"+Math.floor(Math.random()*1001),$(t).attr("id",u),$(document.body).append($(t)),f=$("#"+n).offset(),$(t).css({top:f.top+SmokeEffect.smokePos[n].y+"px",left:f.left+SmokeEffect.smokePos[n].x+"px",zIndex:1,opacity:.8}),$(t).animate({width:SmokeEffect.smokeWidth+"px",height:SmokeEffect.smokeHeight+"px",marginLeft:"-"+SmokeEffect.smokeWidth/2+"px",marginTop:"-"+(SmokeEffect.multiplyIntroRatio?SmokeEffect.smokeHeight*SmokeEffect.introRatio:SmokeEffect.smokeHeight/SmokeEffect.introRatio)+"px",opacity:SmokeEffect.introOpacity},{duration:SmokeEffect.introDuration}).animate({marginTop:"-"+SmokeEffect.smokeHeight*SmokeEffect.outroRatio+"px",opacity:SmokeEffect.outroOpacity},{duration:SmokeEffect.outroDuration}),e=5500+Math.floor(Math.random()*4501),setTimeout("SmokeEffect.animate('"+n+"')",e),setTimeout("$('#"+u+"').remove()",SmokeEffect.outroDuration))}}